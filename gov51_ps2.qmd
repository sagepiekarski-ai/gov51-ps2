---
title: "gov51_ps2"
format: html
editor: visual
---

## Gov 51 problem Set 2

By Sage Piekarski

Part 1 Question 1

<https://github.com/sagepiekarski-ai/gov51-ps2.git>

```{r}

#loading tidyverse
##install.packages("tidyverse")
library(tidyverse)

#read csv
gay <- read.csv("Data/Raw/gay.csv")

#calculate unique values
unique_value <- length(unique(gay$study))
print(unique_value)

#identify treatment conditions
treatment_cond <- unique(gay$treatment)
print(treatment_cond)

```

Q1.1 There are 69,592 observations in gay.csv. There are 2 unique values in study. The five possible treatment conditions are "No contact", "Recycling Script by Gay Canvasser", "Same-sex Marriage Script by Gay Canvasser", "Recycling Script by Straight Canvasser", and "Same-sex Marriage Scirpt by Straight Canvasser".

```{r}

#filter gay
gay_clean <- gay %>% 
  filter(study == 1, 
        wave == 1)
ssm <- gay_clean %>% 
  group_by(treatment) %>% 
  summarize(ssm_mean = mean(ssm, na.rm = TRUE))
print(ssm)

```

Q1.2 The group that is treated with a recycling script by a gay canvasser shows the highest average support.

```{r}

#calculate sd
sd <- gay_clean %>% 
  group_by(treatment) %>% 
  summarize(ssm_sd = sd(ssm, na.rm = TRUE))
print(sd)
```

Q1.3 Yes, for the most part, the standard deviations are roughly similar across groups with the sd values ranging from 1.67 to 1.70. In a randomized experiment, standard deviations are very important because they indicate the spread of the data and to what extent values are from the mean. If the standard deviation is all relatively similar and small, then this indicated our randomized experiment is working properly and observed differences can be attributed to the treatment.

```{r}

#create a bar plot of the mean ssm by treatment
ggplot(ssm, aes(x = treatment, y = ssm_mean)) +
  geom_col(fill = "cornflowerblue") +
  labs(title = "Mean Same Sex Marriage by Treatment Group",
       x = "Treatment Group",
       y = "Mean SSM Score") +
    theme(axis.text.x = element_text(angle = 45, hjust = 1))


```

Question 1 Part 2

```{r}

#filter gay_clean more
gay_clean2 <- gay_clean %>% 
  filter(treatment == "No Contact"| treatment == "Same-Sex Marriage Script by Gay Canvasser")

#calculate Mean & SD
summarized <- gay_clean2 %>% 
  group_by(treatment) %>% 
  summarize(ssm_mean2 =  mean(ssm, na.rm = TRUE),
            ssm_sd2 = sd(ssm, na.rm = TRUE))
print(summarized)

#calculate Standardized difference in means
#numerator
(3.025195 - 3.042764)
#find denominator
1.666099^2 + 1.680540^2
5.600101 / 2
sqrt(2.80005)
0.017569 / 1.673335

```

Q1.5. The standardized difference in means is -0.01049939. The mean and SD for each group is located above in the table. This difference is significantly below 0.25 which leads me to believe that in fact their is good balance and the two groups are very similar at baseline.

```{r}

#filter gay
gay_clean3 <- gay %>% 
  filter(study == 1, 
        wave == 2,treatment == "No Contact"| treatment == "Same-Sex Marriage Script by Gay Canvasser")

#calculate Mean & SD
summarized2 <- gay_clean3 %>% 
  group_by(treatment) %>% 
  summarize(ssm_mean3 =  mean(ssm, na.rm = TRUE),
            ssm_sd3 = sd(ssm, na.rm = TRUE))
print(summarized2)

#difference in means
3.139489 - 3.039615

```

Q1.6 the difference in means here is 0.099874. Since the groups were balanced at baseline, a difference at wave 2 suggests that this difference was because of the treatment rather than any outside factors in the groups. In broader terms, the implementation of a gay canvasser had a small positive impact on support for same sex marriage in reference to the no contact group.

**Question 2**

```{r}

#filter gay
```

```{r}

#filter gay
```

```{r}

#filter gay
```

```{r}

#filter gay
```

```{r}

#filter gay
```

```{r}

#filter gay
```

```{r}

#filter gay
```

```{r}

#filter gay
```

```{r}

#filter gay
```
